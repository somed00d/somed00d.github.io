<!DOCTYPE html> 
<html lang="en"> 
<head> 
  <meta charset="utf-8"> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <link type="text/css" rel="stylesheet" href="/static/scss/main.css">
  <title>@just_some_d00d</title> 
</head> 
<body> 
  <header>
  <nav>
    <a href="/" title="Home">Home</a>
    <a href="/about" title="About">About</a>
    <a href="https://twitter.com/just_some_d00d" title="Twitter" target="_blank">
    <img alt="Twitter logo" title="Twitter" src="/icons/twitter.svg"/>
    </a>
    <a href="https://github.com/somed00d" title="Github" target="_blank">
    <img alt="Github logo" title="Github" src="/icons/github.svg"/>
    </a>
  </nav>
  <hr/>
  </header>
  <main>
    <article class="post">
  <h1>Building the website</h1>
  <time datetime="Thursday, October 15, 2020 3:46 PM">Thursday, October 15, 2020 3:46 PM</time> 
  <p> 
  <!-- Excerpt Start -->
<p>I'm all for the learning experience which means building from scratch is the only way to go!</p>
<!-- Excerpt End -->
<h2>Kicking things off</h2>
<p>I've been building websites for awhile now, in all sorts of different ways. But like anything, even when you're proficient it is still hard to know <em>everything</em>. That is how it is for me with regards to HTML and CSS. I know more than enough to get by but often see code written by others that reminds me I have plenty of room for improvement. With how heavy and bloated building a website has become these days, my first preference when choosing how I was going to go about making this thing was that it had to be lean. I've built plenty of websites that started thick with lots of design. For this, I wanted to start with the bare minimum. <a href="https://11ty.dev">11ty</a> seemed like a good fit for that. It also has an active community which will make learning the framework smoother.</p>
<h2>Bare-bones</h2>
<p>We've started off with just the necessities, a home page, about page, and a blog. That is pretty much it, the website contains zero images and zero CSS as of the writing of the post. To get myself started I used a <a href="https://keepinguptodate.com/pages/2019/06/creating-blog-with-eleventy/">tutorial</a> that I found in the 11ty documentation. Below I've made a list of everything it includes.</p>
<ol>
<li>Initiate node app</li>
<li>Add <code>eleventy</code></li>
<li>Create about page</li>
<li>Create base template</li>
<li>Create navigation</li>
<li>Write first post</li>
<li>Create home page</li>
<li>Add post list to home page</li>
<li>Format date in post list</li>
<li>Add excerpt to post list</li>
<li>Create post template</li>
</ol>
<p>I didn't do much to change this except swap <code>dayjs</code> for <code>moment</code> since the latter is no longer maintained. Also changed the output directory to work with Github Pages. Next we will go through these steps more in depth.</p>
<h2>Setting it all up</h2>
<p>This assumes you have access to a terminal with bash or similar. First things first we need to create a folder to store everything in and initiate the node package manager (npm). I personally do not use npm but install use yarn, the original tutorial though uses npm if you need reference.</p>
<p>Make directory, change into directory, initiate app</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">mkdir</span> somed00d.github.io<br><span class="token builtin class-name">cd</span> somed00d.github.io<br><span class="token function">yarn</span> init</code></pre>
<p>Install eleventy</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">yarn</span> <span class="token function">add</span> @11ty/eleventy</code></pre>
<p>Create <code>about.md</code> file</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">touch</span> about.md</code></pre>
<p>Add some words to it</p>
<pre class="language-md"><code class="language-md"><span class="token title important"><span class="token punctuation">#</span> About page</span><br><br>This page tells you things that are about me!</code></pre>
<p>Add build, serve, debug scripts to <code>package.json</code></p>
<pre class="language-json"><code class="language-json"><span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>  <span class="token property">"build"</span><span class="token operator">:</span> <span class="token string">"npx eleventy"</span><span class="token punctuation">,</span><br>  <span class="token property">"serve"</span><span class="token operator">:</span> <span class="token string">"npx eleventy --serve"</span><span class="token punctuation">,</span><br>  <span class="token property">"debug"</span><span class="token operator">:</span> <span class="token string">"DEBUG=* npx eleventy"</span><br><span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre>
<p>Create <code>_includes</code> folder and add template file <code>base.njk</code></p>
<pre class="language-html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Eleventy Blog<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>header</span><span class="token punctuation">></span></span><br>    Site Header<br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/About<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>About<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>header</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span><span class="token punctuation">></span></span><br>    <br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span><span class="token punctuation">></span></span>Site Footer<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre>
<p>Update <code>about.md</code> to include template front matter</p>
<pre class="language-md"><code class="language-md"><span class="token hr punctuation">---</span><br><span class="token title important">layout: base.njk<br><span class="token punctuation">---</span></span></code></pre>
<p>Create new <code>posts</code> folder and add <code>first-blog-post.md</code></p>
<pre class="language-md"><code class="language-md"><span class="token hr punctuation">---</span><br>layout: base.njk<br>title: My first blog post<br>date: 2020-10-15 12:00:00<br><span class="token title important">tags: ['post']<br><span class="token punctuation">---</span></span><br><br>Hello world! This is my first post. Can you hear me?!</code></pre>
<p>Create home page by creating <code>index.njk</code> file</p>
<pre class="language-html"><code class="language-html">---<br>layout: base.njk<br>pagination:<br>  data: collections.post<br>  size: 10<br>  reverse: true<br>  alias: posts<br>---<br><br>{% for post in posts %}<br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>article</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span><br>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{ post.url | url }}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>{{ post.data.title }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><br>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>time</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{ post.date | dateReadable }}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>{{ post.date | dateFrom }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>time</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>article</span><span class="token punctuation">></span></span><br>{% endfor %}<br></code></pre>
<p>Install <code>dayjs</code></p>
<pre class="language-bash"><code class="language-bash"><span class="token function">yarn</span> <span class="token function">add</span> dayjs</code></pre>
<p>Create <code>.eleventy.js</code></p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> day <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'dayjs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> relativeTime <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'dayjs/plugin/relativeTime'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>day<span class="token punctuation">.</span><span class="token function">locale</span><span class="token punctuation">(</span><span class="token string">'en'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>day<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span>relativeTime<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">eleventyConfig</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  eleventyConfig<span class="token punctuation">.</span><span class="token function">addShortcode</span><span class="token punctuation">(</span><span class="token string">'excerpt'</span><span class="token punctuation">,</span> <span class="token parameter">article</span> <span class="token operator">=></span> <span class="token function">extractExcerpt</span><span class="token punctuation">(</span>article<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  eleventyConfig<span class="token punctuation">.</span><span class="token function">addFilter</span><span class="token punctuation">(</span><span class="token string">'dateFrom'</span><span class="token punctuation">,</span> <span class="token parameter">date</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">day</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fromNow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  eleventyConfig<span class="token punctuation">.</span><span class="token function">addFilter</span><span class="token punctuation">(</span><span class="token string">'dateReadable'</span><span class="token punctuation">,</span> <span class="token parameter">date</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">day</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'h:mm:ss A - MM/DD/YYYY'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>Add function for post excerpt to <code>.eleventy.js</code></p>
<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">extractExcerpt</span><span class="token punctuation">(</span><span class="token parameter">article</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>article<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">'templateContent'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    console<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">'Failed to extract excerpt: Document has no property "templateContent".'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token keyword">let</span> excerpt <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span><br>  <span class="token keyword">const</span> content <span class="token operator">=</span> article<span class="token punctuation">.</span>templateContent<span class="token punctuation">;</span><br><br>  <span class="token comment">// The start and end separators to try and match to extract the excerpt</span><br>  <span class="token keyword">const</span> separatorsList <span class="token operator">=</span> <span class="token punctuation">[</span><br>    <span class="token punctuation">{</span> start<span class="token operator">:</span> <span class="token string">'&lt;!-- Excerpt Start -->'</span><span class="token punctuation">,</span> end<span class="token operator">:</span> <span class="token string">'&lt;!-- Excerpt End -->'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>    <span class="token punctuation">{</span> start<span class="token operator">:</span> <span class="token string">'&lt;p>'</span><span class="token punctuation">,</span> end<span class="token operator">:</span> <span class="token string">'&lt;/p>'</span> <span class="token punctuation">}</span><br>  <span class="token punctuation">]</span><span class="token punctuation">;</span><br><br>  separatorsList<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token parameter">separators</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>    <span class="token keyword">const</span> startPosition <span class="token operator">=</span> content<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>separators<span class="token punctuation">.</span>start<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">const</span> endPosition <span class="token operator">=</span> content<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>separators<span class="token punctuation">.</span>end<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>startPosition <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> endPosition <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      excerpt <span class="token operator">=</span> content<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>startPosition <span class="token operator">+</span> separators<span class="token punctuation">.</span>start<span class="token punctuation">.</span>length<span class="token punctuation">,</span> endPosition<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// Exit out of array loop on first match</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token keyword">return</span> excerpt<span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
<p>Register excerpt <em>shortcode</em> in eleventy config</p>
<pre class="language-js"><code class="language-js">eleventyConfig<span class="token punctuation">.</span><span class="token function">addShortcode</span><span class="token punctuation">(</span><span class="token string">'excerpt'</span><span class="token punctuation">,</span> <span class="token parameter">article</span> <span class="token operator">=></span> <span class="token function">extractExcerpt</span><span class="token punctuation">(</span>article<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>Update post with HTML comments to add excerpt</p>
<pre class="language-html"><code class="language-html"><span class="token comment">&lt;!-- Excerpt Start --></span><br>Enter your excerpt here<br><span class="token comment">&lt;!-- Excerpt End --></span></code></pre>
<p>Add excerpt below date to <code>index.njk</code></p>
<pre class="language-html"><code class="language-html">  { % excerpt post % }<br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>.<span class="token punctuation">"</span></span> <span class="token attr-name">aria-label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Read more on <span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>      Read more<br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span></code></pre>
<p>Create a <code>post.njk</code> template file in the <code>_includes</code> folder</p>
<pre class="language-html"><code class="language-html">---<br>layout: base.njk<br>---<br><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>article</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>{{ title }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>time</span> <span class="token attr-name">datetime</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{ date | dateIso }}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>{{ date | dateReadable }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>time</span><span class="token punctuation">></span></span><br>  {{ content | safe }}<br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>article</span><span class="token punctuation">></span></span><br></code></pre>
<p>Update front matter in posts with new template</p>
<pre class="language-html"><code class="language-html">---<br>layout: post.njk<br>---</code></pre>
<p>Change output directory for Github Pages adding return value to config function in <code>.eleventy.js</code></p>
<pre class="language-js"><code class="language-js"> <span class="token keyword">return</span> <span class="token punctuation">{</span><br>    dir<span class="token operator">:</span> <span class="token punctuation">{</span><br>      output<span class="token operator">:</span> <span class="token string">'docs'</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2>Bada-bing</h2>
<p>That is the condensed version of what is described in this <a href="https://keepinguptodate.com/pages/2019/06/creating-blog-with-eleventy/">tutorial</a>. Again the only thing that I changed was some file names, used <code>dayjs</code> instead of <code>moment</code> for date, and configured output directory for Github Pages.</p>
<p>Not too bad. I've now got a solid foundation to start styling and build upon. My next step will probably be getting style sheets set up and static assets. It looks really bad without code block syntax highlighting.</p>

  </p>
  <div onclick="goBack()" class="back-button">Back</div>
</article>
<script>
function goBack() {
  window.history.back();
}
</script>
  </main> 
  <footer></footer> 
</body> 
</html>