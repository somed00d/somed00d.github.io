<!DOCTYPE html> 
<html lang="en"> 
<head> 
  <meta charset="utf-8"> 
  <meta name="viewport" content="width=device-width, initial-scale=1" /> 
  <title>@just_some_d00d</title> 
</head> 
<body> 
  <header>
    <a href="/" title="Home">Home</a>
    <a href="/about" title="About">About</a>
    <a href="https://twitter.com/just_some_d00d" title="Twitter" target="_blank">Twitter</a>
    <a href="https://github.com/somed00d" title="Github" target="_blank">Github</a>
  </header>
  <main>
    <article>
  <h1>Building the website</h1>
  <p> 
  <!-- Excerpt Start -->
<p>I'm all for the learning experience which means building from scratch is the only way to go!</p>
<!-- Excerpt End -->
<h2>Kicking things off</h2>
<p>I've been building websites for awhile now, in all sorts of different ways. But like anything, even when you're proficient it is still hard to know <em>everything</em>. That is how it is for me with regards to HTML and CSS. I know more than enough to get by but often see code written by others that reminds me I have plenty of room for improvement. With how heavy and bloated building a website has become these days, my first preference when choosing how I was going to go about making this thing was that it had to be lean. I've built plenty of websites that started thick with lots of design. For this, I wanted to start with the bare minimum. <a href="https://11ty.dev">11ty</a> seemed like a good fit for that. It also has an active community which will make learning the framework smoother.</p>
<h2>Bare-bones</h2>
<p>We've started off with just the necessities, a home page, about page, and a blog. That is pretty much it, the website contains zero images and zero CSS as of the writing of the post. To get myself started I used a <a href="https://keepinguptodate.com/pages/2019/06/creating-blog-with-eleventy/">tutorial</a> that I found in the 11ty documentation. Below I've made a list of everything it includes.</p>
<ol>
<li>Initiate node app</li>
<li>Add <code>eleventy</code></li>
<li>Create about page</li>
<li>Create base template</li>
<li>Create navigation</li>
<li>Write first post</li>
<li>Create home page</li>
<li>Add post list to home page</li>
<li>Format date in post list</li>
<li>Add excerpt to post list</li>
<li>Create post template</li>
</ol>
<p>I didn't do much to change this except swap <code>dayjs</code> for <code>moment</code> since the latter is no longer maintained. Also changed the output directory to work with Github Pages. Next we will go through these steps more in depth.</p>
<h2>Setting it all up</h2>
<p>This assumes you have access to a terminal with bash or similar. First things first we need to create a folder to store everything in and initiate the node package manager (npm). I personally do not use npm but install use yarn, the original tutorial though uses npm if you need reference.</p>
<p>Make directory, change into directory, initiate app</p>
<pre><code class="language-bash">
mkdir somed00d.github.io
cd somed00d.github.io
yarn init
</code></pre>
<p>Install eleventy</p>
<pre><code class="language-bash">yarn add @11ty/eleventy
</code></pre>
<p>Create <code>about.md</code> file</p>
<pre><code class="language-bash">touch about.md
</code></pre>
<p>Add some words to it</p>
<pre><code class="language-md">
# About page

This page tells you things that are about me!
</code></pre>
<p>Add build, serve, debug scripts to <code>package.json</code></p>
<pre><code class="language-json">&quot;scripts&quot;: {
  &quot;build&quot;: &quot;npx eleventy&quot;,
  &quot;serve&quot;: &quot;npx eleventy --serve&quot;,
  &quot;debug&quot;: &quot;DEBUG=* npx eleventy&quot;
},
</code></pre>
<p>Create <code>_includes</code> folder and add template file <code>base.njk</code></p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
  &lt;meta charset=&quot;utf-8&quot;&gt;
  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot; /&gt;
  &lt;title&gt;Eleventy Blog&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;header&gt;
    Site Header
    &lt;a href=&quot;/About&quot;&gt;About&lt;/a&gt;
  &lt;/header&gt;
  &lt;main&gt;
    
  &lt;/main&gt;
  &lt;footer&gt;Site Footer&lt;/footer&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>Update <code>about.md</code> to include template front matter</p>
<pre><code class="language-md">---
layout: base.njk
---
</code></pre>
<p>Create new <code>posts</code> folder and add <code>first-blog-post.md</code></p>
<pre><code class="language-md">---
layout: base.njk
title: My first blog post
date: 2020-10-15 12:00:00
tags: ['post']
---

Hello world! This is my first post. Can you hear me?!
</code></pre>
<p>Create home page by creating <code>index.njk</code> file</p>
<pre><code class="language-html">---
layout: base.njk
pagination:
  data: collections.post
  size: 10
  reverse: true
  alias: posts
---


</code></pre>
<p>Install <code>dayjs</code></p>
<pre><code class="language-bash">yarn add dayjs
</code></pre>
<p>Create <code>.eleventy.js</code></p>
<pre><code class="language-js">const day = require('dayjs');
const relativeTime = require('dayjs/plugin/relativeTime');

day.locale('en');
day.extend(relativeTime);

module.exports = function (eleventyConfig) {
  eleventyConfig.addShortcode('excerpt', article =&gt; extractExcerpt(article));
  eleventyConfig.addFilter('dateFrom', date =&gt; {
    return day(date).fromNow();
  });

  eleventyConfig.addFilter('dateReadable', date =&gt; {
    return day(date).format('h:mm:ss A - MM/DD/YYYY');
  });
};
</code></pre>
<p>Add function for post excerpt to <code>.eleventy.js</code></p>
<pre><code class="language-js">function extractExcerpt(article) {
  if (!article.hasOwnProperty('templateContent')) {
    console.warn('Failed to extract excerpt: Document has no property &quot;templateContent&quot;.');
    return null;
  }

  let excerpt = null;
  const content = article.templateContent;

  // The start and end separators to try and match to extract the excerpt
  const separatorsList = [
    { start: '&lt;!-- Excerpt Start --&gt;', end: '&lt;!-- Excerpt End --&gt;' },
    { start: '&lt;p&gt;', end: '&lt;/p&gt;' }
  ];

  separatorsList.some(separators =&gt; {
    const startPosition = content.indexOf(separators.start);
    const endPosition = content.indexOf(separators.end);

    if (startPosition !== -1 &amp;&amp; endPosition !== -1) {
      excerpt = content.substring(startPosition + separators.start.length, endPosition).trim();
      return true; // Exit out of array loop on first match
    }
  });

  return excerpt;
}
</code></pre>
<p>Register excerpt <em>shortcode</em> in eleventy config</p>
<pre><code class="language-js">eleventyConfig.addShortcode('excerpt', article =&gt; extractExcerpt(article));
</code></pre>
<p>Update post with HTML comments to add excerpt</p>
<pre><code class="language-html">&lt;!-- Excerpt Start --&gt;
Enter your excerpt here
&lt;!-- Excerpt End --&gt;
</code></pre>
<p>Add excerpt below date to <code>index.njk</code></p>
<pre><code class="language-html">  { % excerpt post % }
    &lt;a href=&quot;.&quot; aria-label=&quot;Read more on &quot;&gt;
      Read more
    &lt;/a&gt;
</code></pre>
<p>Create a <code>post.njk</code> template file in the <code>_includes</code> folder</p>
<pre><code class="language-html">---
layout: base.njk
---
&lt;article&gt;
  &lt;h1&gt;Building the website&lt;/h1&gt;
  &lt;time datetime=&quot;Thu Oct 15 2020 15:46:00 GMT-0400 (GMT-04:00)&quot;&gt;3:46:00 PM - 10/15/2020&lt;/time&gt;
  
&lt;/article&gt;
</code></pre>
<p>Update front matter in posts with new template</p>
<pre><code class="language-html">---
layout: post.njk
---
</code></pre>
<p>Change output directory for Github Pages adding return value to config function in <code>.eleventy.js</code></p>
<pre><code class="language-js"> return {
    dir: {
      output: 'docs'
    }
  };
</code></pre>
<h2>Bada-bing</h2>
<p>That is the condensed version of what is described in this <a href="https://keepinguptodate.com/pages/2019/06/creating-blog-with-eleventy/">tutorial</a>. Again the only thing that I changed was some file names, used <code>dayjs</code> instead of <code>moment</code> for date, and configured output directory for Github Pages.</p>
<p>Not too bad. I've now got a solid foundation to start styling and build upon. My next step will probably be getting style sheets set up and static assets. It looks really bad without code block syntax highlighting.</p>

  </p>
  <div onclick="goBack()"><strong>Back</strong></div>
  <time datetime="3:46:00 PM - 10/15/2020">3:46:00 PM - 10/15/2020</time> 
</article>
<script>
function goBack() {
  window.history.back();
}
</script>
  </main> 
  <footer></footer> 
</body> 
</html>