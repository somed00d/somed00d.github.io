<!DOCTYPE html> 
<html lang="en"> 
<head> 
  <meta charset="utf-8"> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <link type="text/css" rel="stylesheet" href="/static/scss/main.css">
  <title>@just_some_d00d</title> 
</head> 
<body> 
  <header>
  <nav>
    <a href="/" title="Home">Home</a>
    <a href="/about" title="About">About</a>
    <a href="/press-links" title="Press Links">Press Aggregate</a>
    <a href="https://twitter.com/just_some_d00d" title="Twitter" target="_blank">
    <img alt="Twitter logo" title="Twitter" src="/icons/twitter.svg"/>
    </a>
    <a href="https://github.com/somed00d" title="Github" target="_blank">
    <img alt="Github logo" title="Github" src="/icons/github.svg"/>
    </a>
  </nav>
  <hr/>
  </header>
  <main>
    <article class="post">
  <h1>Bringing It All Together</h1>
  <time datetime="2020-10-23T00:36:00">12:36 AM 路 Friday 路 October 23, 2020</time> 
  <!-- Excerpt Start -->
<p>Summary of what we've done so far with the website</p>
<!-- Excerpt End -->
<p>So far we have gotten the basic essentials set up.</p>
<h2>Configuration file</h2>
<p>Below I've included my <code>.eleventy.js</code> file, it's not as complicated as it looks. The beginning is creating a bunch of variables for our dependencies. We are using <a href="https://day.js.org/">Day.js</a> to keep track of time for us. It requires three plugins that give us additional abilities when using the library. Then is the <code>@11ty/eleventy-plugin-syntaxhighlight</code> plugin to give us syntax highlighting and the <code>@eleventy-plugin-sass</code> plugin for our style sheets. I've also included a plugin that is a wrapper of the <a href="https://github.com/davidmerfield/Typeset">Typeset</a> that provides more consistent text formatting and styling. Then we set some settings for the Day.js library.</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> day <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'dayjs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> relativeTime <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'dayjs/plugin/relativeTime'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> timeZone <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'dayjs/plugin/timezone'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> utc <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'dayjs/plugin/utc'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> syntaxHighlight <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"@11ty/eleventy-plugin-syntaxhighlight"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> pluginSass <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"eleventy-plugin-sass"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> typesetPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'eleventy-plugin-typeset'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>day<span class="token punctuation">.</span><span class="token function">locale</span><span class="token punctuation">(</span><span class="token string">'en'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>day<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span>relativeTime<span class="token punctuation">)</span><span class="token punctuation">;</span><br>day<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span>timeZone<span class="token punctuation">)</span><span class="token punctuation">;</span><br>day<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span>utc<span class="token punctuation">)</span><span class="token punctuation">;</span><br>day<span class="token punctuation">.</span>tz<span class="token punctuation">.</span><span class="token function">setDefault</span><span class="token punctuation">(</span><span class="token string">"America/New_York"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>This is the next part of the file. It's the main area where the configurations are initialized and made. It begins with <code>eleventyConfig.addPlugin</code> statements to initialize the plugins based on the variables we put them in, syntaxHighlight, pluginSass, typesetPlugin. Technically we can be called anything as long as it matches but I've just went what was used in the documentation. Next we add in some <a href="https://www.11ty.dev/docs/shortcodes/">shortcodes</a> which allows for creating reusable content. In this instance we are using shortcodes to format our date in different ways. Then we use <code>eleventyConfig.addPassthroughCopy</code> to <a href="https://www.11ty.dev/docs/copy/">copy</a> over our static assets. Lastly adjusting the dir value that is returned in order to change the directory things are outputted too.</p>
<pre class="language-js"><code class="language-js">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">eleventyConfig</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token comment">// Plugins</span><br>  eleventyConfig<span class="token punctuation">.</span><span class="token function">addPlugin</span><span class="token punctuation">(</span>syntaxHighlight<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  eleventyConfig<span class="token punctuation">.</span><span class="token function">addPlugin</span><span class="token punctuation">(</span>pluginSass<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  eleventyConfig<span class="token punctuation">.</span><span class="token function">addPlugin</span><span class="token punctuation">(</span>typesetPlugin<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token comment">// Shortcodes</span><br>  eleventyConfig<span class="token punctuation">.</span><span class="token function">addShortcode</span><span class="token punctuation">(</span><span class="token string">'excerpt'</span><span class="token punctuation">,</span> <span class="token parameter">article</span> <span class="token operator">=></span> <span class="token function">extractExcerpt</span><span class="token punctuation">(</span>article<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  eleventyConfig<span class="token punctuation">.</span><span class="token function">addFilter</span><span class="token punctuation">(</span><span class="token string">'dateISO'</span><span class="token punctuation">,</span> <span class="token parameter">date</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">day</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'YYYY-MM-DDTHH:mm:ss'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  eleventyConfig<span class="token punctuation">.</span><span class="token function">addFilter</span><span class="token punctuation">(</span><span class="token string">'dateShort'</span><span class="token punctuation">,</span> <span class="token parameter">date</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">day</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'dddd, MMM DD, YYYY'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  eleventyConfig<span class="token punctuation">.</span><span class="token function">addFilter</span><span class="token punctuation">(</span><span class="token string">'dateLong'</span><span class="token punctuation">,</span> <span class="token parameter">date</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">day</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'h:mm A 路 dddd 路 MMMM D, YYYY'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token comment">// Passthrough</span><br>  eleventyConfig<span class="token punctuation">.</span><span class="token function">addPassthroughCopy</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token string">"static"</span><span class="token operator">:</span> <span class="token string">"/"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token keyword">return</span> <span class="token punctuation">{</span><br>    dir<span class="token operator">:</span> <span class="token punctuation">{</span><br>      output<span class="token operator">:</span> <span class="token string">'docs'</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>This last bit of code is what takes care of post excerpts. It is from this <a href="https://keepinguptodate.com/pages/2019/06/creating-blog-with-eleventy/">tutorial</a> that is included in the Eleventy documentation. The function is pulling in all the content from each post, looking for the HTML comment tags, extracting what is in between them, and then storing them in variables to make them accessible.</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">extractExcerpt</span><span class="token punctuation">(</span><span class="token parameter">article</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>article<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">'templateContent'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    console<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">'Failed to extract excerpt: Document has no property "templateContent".'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token keyword">let</span> excerpt <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span><br>  <span class="token keyword">const</span> content <span class="token operator">=</span> article<span class="token punctuation">.</span>templateContent<span class="token punctuation">;</span><br><br>  <span class="token comment">// The start and end separators to try and match to extract the excerpt</span><br>  <span class="token keyword">const</span> separatorsList <span class="token operator">=</span> <span class="token punctuation">[</span><br>    <span class="token punctuation">{</span> start<span class="token operator">:</span> <span class="token string">'&lt;!-- Excerpt Start -->'</span><span class="token punctuation">,</span> end<span class="token operator">:</span> <span class="token string">'&lt;!-- Excerpt End -->'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>    <span class="token punctuation">{</span> start<span class="token operator">:</span> <span class="token string">'&lt;p>'</span><span class="token punctuation">,</span> end<span class="token operator">:</span> <span class="token string">'&lt;/p>'</span> <span class="token punctuation">}</span><br>  <span class="token punctuation">]</span><span class="token punctuation">;</span><br><br>  separatorsList<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token parameter">separators</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>    <span class="token keyword">const</span> startPosition <span class="token operator">=</span> content<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>separators<span class="token punctuation">.</span>start<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">const</span> endPosition <span class="token operator">=</span> content<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>separators<span class="token punctuation">.</span>end<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>startPosition <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> endPosition <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      excerpt <span class="token operator">=</span> content<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>startPosition <span class="token operator">+</span> separators<span class="token punctuation">.</span>start<span class="token punctuation">.</span>length<span class="token punctuation">,</span> endPosition<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// Exit out of array loop on first match</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token keyword">return</span> excerpt<span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
<h2>Style sheets</h2>
<p>I'm still deciding on a naming convention. My plan is in the future to devote an entire post to it when I have a better idea of what I'm doing. I don't want to ever have to adopt a CSS framework for this website so I'll be building it all. But that is not the main focus, instead I want to go over how I got style sheets working to begin with.</p>
<p>Really it was quite easy. The <a href="https://www.npmjs.com/package/eleventy-plugin-sass">plugin</a> that I used seems like the ideal way. In the past it appears like there were additional steps that were required to watch for files but from what I can see Eleventy takes care of all that now. It's all pretty straight forward and doesn't require any additional configuration.</p>
<h2>Syntax highlighting</h2>
<p>After we got the style sheets going, we're next able to get syntax highlighting configured. It was a very straight forward process like the style sheets. Eleventy suggests a <a href="https://www.11ty.dev/docs/plugins/syntaxhighlight/">plugin</a> in the documentation that uses the PrisimJS syntax highlighting library. There is a <a href="https://github.com/PrismJS/prism-themes">repository</a> of color schemes that you can use to find the one you like. I am using the <a href="https://github.com/PrismJS/prism-themes/blob/master/themes/prism-dracula.css">Dracula</a> color scheme.</p>
<h2>Conclusion</h2>
<p>Well, all of that wasn't too bad. It's my first time using Eleventy and I think it's pretty nifty. Everything is straight forward and follows the <a href="https://en.wikipedia.org/wiki/KISS_principle">KISS principle</a>. I've gotten set up a nice foundation that will be very easy to build on top of. Everything so far has been just a basic implementation without much jazz. I like how the framework starts you off with nothing and allows you to only apply what you need. I think it's important these days to be really aware of speed and optimizations.</p>

</article>
<script>
  </main> 
  <footer></footer> 
</body> 
</html>